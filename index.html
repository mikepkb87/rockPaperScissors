<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="style.css">
<html>
<head>
    <title>Rock paper scissors</title>
</head>
<body>
    <h1 id='heading'>Rock paper scissors!</h1>
    <p id='instructions'>
        To begin press either the rock, paper, or scissors button to make your selection.<br/> 
        your results and score will be displayed below. The first to win 5 games wins!
    </p>
    <img src="rps.png" alt="">
    <div id='selections'>

        <button class="button" id="rock">Rock</button>
        <button class="button" id="paper">Paper</button>
        <button class="button" id="scissors">Scissors</button>

    </div>

    <div id = score>
        <br/>
    </div>

    <script>
       function computerPlay() {
        let choices = ['rock', 'paper', 'scissors'];
        return choices[Math.floor(Math.random() * choices.length)];
}
            
        function playRound(playerSelection, computerSelection) {
            
            result = ''


                if (playerSelection == 'rock' && computerSelection == 'rock') {
                    comp = 1; player = 1;
                    return result = ('Its a tie!');
                } else if (playerSelection == 'rock' && computerSelection == 'paper') {
                    comp = 1; player = 0;
                    return result = ('You lose! Paper beats rock');
                }else if (playerSelection == 'rock' && computerSelection == 'scissors') {
                    comp = 0; player = 1;
                    return result = ('You win! rock beats scissors');
                }else if (playerSelection == 'paper' && computerSelection == 'rock') {
                    comp = 0; player = 1;
                    return result = ('You win! rock beats scissors');
                }else if (playerSelection == 'paper' && computerSelection== 'paper') {
                    comp = 1; player = 1;
                    return result = ('Its a tie!');
                }else if (playerSelection == 'paper' && computerSelection == 'scissors') {
                    comp = 1; player = 0;
                    return result = ('you lose! scissors beats paper');
                }else if (playerSelection == 'scissors' && computerSelection == 'rock') {
                    comp = 1; player = 0;
                    return result = ('You lose! rock beats scissors');
                }else if (playerSelection == 'scissors' && computerSelection == 'paper') {
                    comp = 0; player = 1;
                    return result = ('You win. scissors beats paper');
                }else if (playerSelection == 'scissors' && computerSelection == 'scissors') {
                    comp = 1; player = 1;
                    return result = ('Its a tie!');
                }else {
                    return result = ('Please choose either rock, paper or scissors.')
                }
       

        }


       let computerscore = 0;
        let playerscore = 0;

        const div = document.querySelector('#score')
        const divResults = document.createElement('div')
       const divScore = document.createElement('div');
        
        function score() {
            if ((playerscore == 5) && (computerscore < 5)){
                alert('You win! player score: 5  computer score: ' + computerscore);
                playerscore = 0;
                computerscore = 0;
            }else if ((computerscore == 5) && (playerscore < 5)) {
                alert('You lose! player score: ' + playerscore + '  computer score: 5');
                playerscore = 0;
                computerscore = 0;
            } else if ((computerscore == 5) && (playerscore == 5)) {
                alert('its a tie! player score: ' + playerscore + ' computer score: ' + computerscore );
                playerscore = 0;
                computerscore = 0;
            } else {
                return;
            }
       }

       function roundScore() {
        if (comp == 1 && player == 1) {
            computerscore = computerscore + 1
            playerscore = playerscore + 1

        }else if (player == 1) {
                    playerscore = playerscore + 1
        }else if (comp == 1){
                    computerscore = computerscore + 1
        }
       }


       const rockButton = document.querySelector('#rock');
       const paperButton = document.querySelector('#paper');
       const scissorsButton = document.querySelector('#scissors');

       rockButton.addEventListener('click' , (e) => {
           playRound('rock', computerPlay());
           roundScore()
            score();
            divScore.textContent = ('player score: ' + playerscore + ' computer score: ' + computerscore);
            divResults.textContent = result; 
            divResults.appendChild(divScore);


           
       });

       paperButton.addEventListener('click' , (e) => {
           playRound('paper', computerPlay());
           roundScore()
            score();
            divScore.textContent = ('player score: ' + playerscore + ' computer score: ' + computerscore);
            divResults.textContent = result; 
            divResults.appendChild(divScore);
           
        });

       scissorsButton.addEventListener('click' , (e) => {
           playRound('scissors', computerPlay());
           roundScore()
            score();
            divScore.textContent = ('player score: ' + playerscore + ' computer score: ' + computerscore);
            divResults.textContent = result; 
            divResults.appendChild(divScore);
           
       });
       
       div.appendChild(divResults);
    </script>
</body>
</html>